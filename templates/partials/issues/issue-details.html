<div class="container">
    <h1>Issue Page</h1>
    <hr>
    <div class="row">
        <div class="col-md-6 text-justify">
            <h3>
                <strong>{{issue.IssueKey}}</strong>
                <a href="#/issues/{{issue.Id}}/edit" class="btn btn-success">Edit</a>
            </h3>
            <h5>
                <strong>Issue Key:</strong>
                <span>{{issue.IssueKey}}</span>
            </h5>
            <h5>
                <strong>Title:</strong>
                <span>{{issue.Title}}</span>
            </h5>

            <h5>
                <strong>Description:</strong>
                <span>{{issue.Description}}</span>
            </h5>
            <h5>
                <strong>Assignee:</strong>
                <span>{{issue.Assignee.Username}}</span>
                <br>
                <i>(id: {{issue.Assignee.Id}})</i>
            </h5>
            <h5>
                <strong>Priority:</strong>
                <span>{{issue.Priority.Name}}</span>
                <br>
                <i>(id: {{issue.Priority.Id}})</i>
            </h5>
            <h5>
                <strong>Due Date:</strong>
                <i>{{issue.DueDate | dateFilter}}</i>
            </h5>
            <h5>
                <strong>Author:</strong>
                <span>{{issue.Author.Username}}</span>
            </h5>
            <h5>
                <strong>Project:</strong>
                <span>
                    <a href="#/projects/{{issue.Project.Id}}">{{issue.Project.Name}}</a>
                </span>
            </h5>
            <h5>
                <strong>Status:</strong>
                <span>{{issue.Status.Name}}</span>
            </h5>
            <h5>
                <strong>Labels:</strong>
                <i>{{issue.Labels}}</i>
            </h5>
        </div>

        <div class="col-md-4 col-md-offset-1">
            <h3>
                <strong>Change status</strong>
            </h3>
            <div ng-repeat="status in issue.AvailableStatuses">

                <h4>
                    <span>-----{{status.Name}}</span>
                    <button ng-click="changeIssueStatus(issue.Id, status.Id)" class="btn btn-success">Change</button>
                </h4>
            </div>
        </div>
    </div>

    <hr>

    <div class="row">
        <div class="panel panel-success">
            <div class="panel-heading text-center">
                <h3 class="panel-title">Comments</h3>
            </div>
            <div class="panel-body">
                <div ng-repeat="comment in comments">
                    <blockquote>
                        <p>{{comment.Text}}</p>
                        <small>{{comment.Author.Username}} on <cite>{{comment.CreatedOn | dateFilter}}</cite></small>
                    </blockquote>
                </div>
                <div class="col-lg-10">
                    <label class="control-label" for="commentContent">Add Comment</label>
                    <textarea class="form-control" rows="3" required="required" id="commentContent" ng-model="commentContent"></textarea>
                    <button ng-click="addComment(issue.Id, commentContent)" class="btn btn-success">Add</button>
                </div>
            </div>
        </div>
    </div>
</div>

